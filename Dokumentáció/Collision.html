<!DOCTYPE html><html>
<head>
<meta charset="UTF-8">
<link rel="stylesheet" type="text/css" href="style2.css">
<script src="jquery-3.1.1.min.js"></script>
<script>
$(document).ready(function(){
$(".boxszam0").slideUp();
var $fel0=false;


    $(".sorszam0").click(function(){
        if($fel0){
        $(".boxszam0").slideUp("slow");
        $fel0=false;
        }
        else{
         $(".boxszam0").slideDown("slow");
         $fel0=true;
        }
    });

$(".boxszam1").slideUp();
var $fel1=false;


    $(".sorszam1").click(function(){
        if($fel1){
        $(".boxszam1").slideUp("slow");
        $fel1=false;
        }
        else{
         $(".boxszam1").slideDown("slow");
         $fel1=true;
        }
    });

$(".boxszam2").slideUp();
var $fel2=false;


    $(".sorszam2").click(function(){
        if($fel2){
        $(".boxszam2").slideUp("slow");
        $fel2=false;
        }
        else{
         $(".boxszam2").slideDown("slow");
         $fel2=true;
        }
    });

$(".boxszam3").slideUp();
var $fel3=false;


    $(".sorszam3").click(function(){
        if($fel3){
        $(".boxszam3").slideUp("slow");
        $fel3=false;
        }
        else{
         $(".boxszam3").slideDown("slow");
         $fel3=true;
        }
    });

$(".boxszam4").slideUp();
var $fel4=false;


    $(".sorszam4").click(function(){
        if($fel4){
        $(".boxszam4").slideUp("slow");
        $fel4=false;
        }
        else{
         $(".boxszam4").slideDown("slow");
         $fel4=true;
        }
    });

$(".boxszam5").slideUp();
var $fel5=false;


    $(".sorszam5").click(function(){
        if($fel5){
        $(".boxszam5").slideUp("slow");
        $fel5=false;
        }
        else{
         $(".boxszam5").slideDown("slow");
         $fel5=true;
        }
    });

$(".boxszam6").slideUp();
var $fel6=false;


    $(".sorszam6").click(function(){
        if($fel6){
        $(".boxszam6").slideUp("slow");
        $fel6=false;
        }
        else{
         $(".boxszam6").slideDown("slow");
         $fel6=true;
        }
    });

$(".boxszam7").slideUp();
var $fel7=false;


    $(".sorszam7").click(function(){
        if($fel7){
        $(".boxszam7").slideUp("slow");
        $fel7=false;
        }
        else{
         $(".boxszam7").slideDown("slow");
         $fel7=true;
        }
    });

$(".boxszam8").slideUp();
var $fel8=false;


    $(".sorszam8").click(function(){
        if($fel8){
        $(".boxszam8").slideUp("slow");
        $fel8=false;
        }
        else{
         $(".boxszam8").slideDown("slow");
         $fel8=true;
        }
    });

$(".boxszam9").slideUp();
var $fel9=false;


    $(".sorszam9").click(function(){
        if($fel9){
        $(".boxszam9").slideUp("slow");
        $fel9=false;
        }
        else{
         $(".boxszam9").slideDown("slow");
         $fel9=true;
        }
    });

$(".boxszam10").slideUp();
var $fel10=false;


    $(".sorszam10").click(function(){
        if($fel10){
        $(".boxszam10").slideUp("slow");
        $fel10=false;
        }
        else{
         $(".boxszam10").slideDown("slow");
         $fel10=true;
        }
    });

$(".boxszam11").slideUp();
var $fel11=false;


    $(".sorszam11").click(function(){
        if($fel11){
        $(".boxszam11").slideUp("slow");
        $fel11=false;
        }
        else{
         $(".boxszam11").slideDown("slow");
         $fel11=true;
        }
    });

$(".boxszam12").slideUp();
var $fel12=false;


    $(".sorszam12").click(function(){
        if($fel12){
        $(".boxszam12").slideUp("slow");
        $fel12=false;
        }
        else{
         $(".boxszam12").slideDown("slow");
         $fel12=true;
        }
    });

$(".boxszam13").slideUp();
var $fel13=false;


    $(".sorszam13").click(function(){
        if($fel13){
        $(".boxszam13").slideUp("slow");
        $fel13=false;
        }
        else{
         $(".boxszam13").slideDown("slow");
         $fel13=true;
        }
    });

$(".boxszam14").slideUp();
var $fel14=false;


    $(".sorszam14").click(function(){
        if($fel14){
        $(".boxszam14").slideUp("slow");
        $fel14=false;
        }
        else{
         $(".boxszam14").slideDown("slow");
         $fel14=true;
        }
    });

$(".boxszam15").slideUp();
var $fel15=false;


    $(".sorszam15").click(function(){
        if($fel15){
        $(".boxszam15").slideUp("slow");
        $fel15=false;
        }
        else{
         $(".boxszam15").slideDown("slow");
         $fel15=true;
        }
    });

$(".boxszam16").slideUp();
var $fel16=false;


    $(".sorszam16").click(function(){
        if($fel16){
        $(".boxszam16").slideUp("slow");
        $fel16=false;
        }
        else{
         $(".boxszam16").slideDown("slow");
         $fel16=true;
        }
    });

    });
</script>
</head>
<body>
<div id="osztaly"><div id="cim"><h1>Collision</h1></div>/*<br/>
 * <br/>
 * <br/>
 * <br/>
 */<br/>
package tib256_engine;<br/>
<br/>
/**<br/>
 *<br/>
 * @author Tibor<br/>
 */<br/>
<div class="publiccimke sorszam0">public class Collision  </div><br/>
<div class="publicbox boxszam0 shadow">{<br/>
&#8192;    <br/>
<div class="publiccimke sorszam1">  public static String collisionRactangle(GameItem i1,GameItem i2) </div><br/>
  <div class="publicbox boxszam1 shadow">{<br/>
&#8192;&#8192;<br/>
&#8192;&#8192;  //A variable to tell us which side the <br/>
&#8192;&#8192;  //collision is occurring on<br/>
&#8192;&#8192;  String collisionSide = "";<br/>
&#8192;&#8192;  <br/>
&#8192;&#8192;  //Calculate the distance vector<br/>
&#8192;&#8192;  double vx = i1.centerX() - i2.centerX();<br/>
&#8192;&#8192;  double vy = i1.centerY() - i2.centerY();<br/>
&#8192;&#8192;  <br/>
&#8192;&#8192;  //Figure out the combined half-widths and half-heights<br/>
&#8192;&#8192;  double combinedHalfWidths = i1.halfWidth() + i2.halfWidth();<br/>
&#8192;&#8192;  double combinedHalfHeights = i1.halfHeight() + i2.halfHeight();<br/>
&#8192;&#8192;    <br/>
&#8192;&#8192;  //Check whether vx is less than the combined half widths <br/>
<div class="ifcimke sorszam2">  if(Math.abs(vx) < combinedHalfWidths) </div><br/>
  <div class="ifbox boxszam2 shadow">{<br/>
&#8192;&#8192;&#8192;    //A collision might be occurring! <br/>
&#8192;&#8192;&#8192;    //Check whether vy is less than the combined half heights <br/>
<div class="ifcimke sorszam3">    if(Math.abs(vy) < combinedHalfHeights) </div><br/>
    <div class="ifbox boxszam3 shadow">{<br/>
&#8192;&#8192;&#8192;&#8192;      double overlapX = combinedHalfWidths - Math.abs(vx);<br/>
&#8192;&#8192;&#8192;&#8192;      double overlapY = combinedHalfHeights - Math.abs(vy);<br/>
&#8192;&#8192;&#8192;&#8192;       <br/>
<div class="ifcimke sorszam4">      if(overlapX >= overlapY) </div><br/>
      <div class="ifbox boxszam4 shadow">{<br/>
<div class="ifcimke sorszam5">&#8192;&#8192;&#8192;&#8192;&#8192;        if(vy > 0)</div><br/>
&#8192;&#8192;&#8192;&#8192;&#8192;        <div class="ifbox boxszam5 shadow"><br/>
        {<br/>
&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;          collisionSide = "top";         <br/>
&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;          i1.y = (int)Math.round(i1.y + overlapY);<br/>
&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;          i1.vy*=-0.5;<br/>
        }</div><br/>
<div class="elsecimke sorszam6">        else </div><br/>
        <div class="elsebox boxszam6 shadow">{<br/>
&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;          collisionSide = "bottom"; <br/>
&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;           i1.y = (int)Math.round(i1.y - overlapY);<br/>
&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;           i1.vy=0;<br/>
        }</div>   <br/>
      }</div> <br/>
<div class="elsecimke sorszam7">      else </div><br/>
      <div class="elsebox boxszam7 shadow">{<br/>
<div class="ifcimke sorszam8">&#8192;&#8192;&#8192;&#8192;&#8192;        if(vx > 0)</div><br/>
&#8192;&#8192;&#8192;&#8192;&#8192;        <div class="ifbox boxszam8 shadow"><br/>
        {<br/>
&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;          collisionSide = "left";          <br/>
&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;          i1.x = (int)Math.round(i1.x + overlapX);<br/>
        }</div><br/>
<div class="elsecimke sorszam9">&#8192;&#8192;&#8192;&#8192;&#8192;        else </div><br/>
&#8192;&#8192;&#8192;&#8192;&#8192;        <div class="elsebox boxszam9 shadow"><br/>
        {<br/>
&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;          collisionSide = "right";<br/>
&#8192;&#8192;&#8192;&#8192;&#8192;&#8192;          i1.x = (int)Math.round(i1.x - overlapX);<br/>
        }</div>       <br/>
      }</div> <br/>
    }</div><br/>
<div class="elsecimke sorszam10">    else </div><br/>
    <div class="elsebox boxszam10 shadow">{<br/>
&#8192;&#8192;&#8192;&#8192;      collisionSide = "none";<br/>
    }</div><br/>
  }</div> <br/>
<div class="elsecimke sorszam11">  else </div><br/>
  <div class="elsebox boxszam11 shadow">{<br/>
&#8192;&#8192;&#8192;    collisionSide = "none";<br/>
  }</div><br/>
&#8192;&#8192;  <br/>
&#8192;&#8192;  return collisionSide;<br/>
  }</div>//#collisionRactangle<br/>
&#8192;    <br/>
&#8192;     <br/>
<div class="publiccimke sorszam12"> public static void  blockCircle(GameItem p1,GameItem p2)   </div><br/>
 <div class="publicbox boxszam12 shadow">{<br/>
&#8192;&#8192;<br/>
&#8192;&#8192;  double vx = p1.centerX() - p2.centerX();<br/>
&#8192;&#8192;  double vy = p1.centerY() - p2.centerY();<br/>
&#8192;&#8192;  <br/>
&#8192;&#8192;  double magnitude = Math.sqrt(vx * vx + vy * vy);<br/>
&#8192;&#8192;  <br/>
&#8192;&#8192;   double totalRadii = p1.halfWidth() + p2.halfWidth();<br/>
&#8192;&#8192;  <br/>
<div class="ifcimke sorszam13">  if(magnitude < totalRadii) </div><br/>
  <div class="ifbox boxszam13 shadow">{<br/>
&#8192;&#8192;&#8192;    double overlap = totalRadii - magnitude;<br/>
&#8192;&#8192;&#8192;    <br/>
&#8192;&#8192;&#8192;    magnitude = 1/magnitude;<br/>
&#8192;&#8192;&#8192;    double dx = vx * magnitude;<br/>
&#8192;&#8192;&#8192;    double dy = vy * magnitude;<br/>
&#8192;&#8192;&#8192;<br/>
&#8192;&#8192;&#8192;    p1.x += overlap * dx; <br/>
&#8192;&#8192;&#8192;    p1.y += overlap * dy;<br/>
  }</div><br/>
&#8192;&#8192;  <br/>
&#8192;&#8192;  <br/>
 }</div>//blockCircle<br/>
&#8192; <br/>
<div class="publiccimke sorszam14">     public static boolean MouseonItem(int x,int y,GameItem p) </div><br/>
     <div class="publicbox boxszam14 shadow"><br/>
<div class="ifcimke sorszam15">      if(p.visible) </div><br/>
      <div class="ifbox boxszam15 shadow"><br/>
<div class="ifcimke sorszam16">        if( x>p.x && x< p.x+p.width && y>p.y && y< p.y+p.height+Consts.MOUSEHEIGHT )  </div><br/>
        <div class="ifbox boxszam16 shadow">{<br/>
&#8192;&#8192;&#8192;&#8192;           return true;<br/>
        }</div><br/>
      }</div><br/>
&#8192;&#8192;      return false;<br/>
    }</div>//#MouseonItem<br/>
&#8192;  <br/>
}</div>//class vege<br/>
<br/>
 <br/>
